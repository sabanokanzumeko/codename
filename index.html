<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Codename Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-b from-white to-slate-50">
  <div id="root"></div>

  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState } = React;

    // --- åå‰ãƒªã‚¹ãƒˆ ----------------------------------------------------------
    const codenameList = [
      "ã¶ã‚Šå¤§æ ¹",
      "ç«œæ³‰å¯ºã€€ãŠã‚†ã“",
      "ãƒŠãƒãƒªã’ãŸç”·",
      "ç’°çŠ¶ç·šã€€å……",
      "ã‚¸ãƒ£ã‚¬ãƒ¼ãƒã‚¿ã‚³",
      "é‡‘éŠ€å ‚ã€€æ˜Ÿç”·",
      "ã¡ã‚‡ãƒ¼ã¿ãƒ¼ã‚­ãƒ†ã‚£å­",
      "è¾›ã„ã€€èŒ„å­",
      "ãƒã‚§ãƒ¼ãƒªãƒ¼ãƒ†ãƒ³ãƒ—ãƒ«",
      "ä¸‹é§„å­",
      "éˆ´æœ¨å¤ªéƒ",
      "ãƒ€ãƒ³ã‚·ãƒ³ã‚°ç¾æ™ºå­",
      "ã‚´ãƒ³ã‚¶ãƒ¬ã‚¹é•·è°·å·",
      "ç—£ã¨ã‚¤ãƒãƒœ",
      "åšç€åšå­",
      "å‹ã©ãæ©‹ã€€æ¸¡å­",
      "ã‚¸ãƒ£ãƒ³ãƒœã‚¿ãƒ‹ã‚·",
      "è–¬å¸«å¯ºã€€ç…å­",
      "æ£šã‹ã‚‰ã¼ãŸã“",
      "ãƒ‰ãƒªãƒ¼ãƒŸãƒ³ã‚°å¾éƒ",
      "ç«‹å·å¤ªåˆ€æ",
      "å…«ç‹å­å…‰é›„",
      "ã•ã‚“ã–ã‚ãçŸ³å­",
      "å¤§é­”ç‹ã¯ãªã“",
      "ç£¯éƒ¨ä¸¸",
      "æ¾ç«¹ã€€æ¢…ç”·",
      "ã‚µãƒ«ã‚·ãƒƒãƒãƒ£æ¸š",
    ];

    // 32-bit FNV-1aï¼ˆè‹±æ•°å­—ãƒ»æ—¥æœ¬èªã‚‚OKï¼‰
    function hashString(str) {
      let h = 0x811c9dc5;
      for (let i = 0; i < str.length; i++) {
        h ^= str.charCodeAt(i);
        h = (h + (h << 1) + (h << 4) + (h << 7) + (h << 8) + (h << 24)) >>> 0;
      }
      return h >>> 0;
    }

    function App() {
      const [name, setName] = useState("");
      const [result, setResult] = useState(null); // åˆå›ç”Ÿæˆã¾ã§éè¡¨ç¤º

      function generateCodename() {
        if (result) return; // ãƒœã‚¿ãƒ³é€£æ‰“ã—ã¦ã‚‚åŒã˜ï¼ˆä½•ã‚‚ã—ãªã„ï¼‰
        const baseSeed = hashString((name || "anonymous").trim());
        const idx = baseSeed % codenameList.length;
        setResult(codenameList[idx]);
      }

      return (
        <div className="min-h-screen w-full flex items-center justify-center p-6">
          <div className="w-full max-w-3xl">
            <div className="mb-6 text-center">
              <h1 className="text-3xl sm:text-4xl font-bold tracking-tight">ã‚ãªãŸã«ãŠã‚‚ã—ã‚ãƒãƒ¼ãƒ ã‚’ã¤ã‘ã¾ã™ğŸ˜</h1>
              <p className="text-slate-600 mt-2">å…¥åŠ›ã—ãŸåå‰ã‹ã‚‰ã‚ãªãŸã«ã´ã£ãŸã‚Šã®åå‰ãŒè¨­å®šã•ã‚Œã¾ã™</p>
            </div>

            <div className="grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4">
              <input
                className="sm:col-span-2 rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-400"
                placeholder="åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
                value={name}
                onChange={(e) => { setName(e.target.value); setResult(null); }}
              />
              <button
                className="rounded-2xl border border-slate-200 bg-black text-white px-4 py-3 shadow-sm hover:opacity-90 active:opacity-80"
                onClick={generateCodename}
              >ãŠã‚‚ã—ã‚ãƒãƒ¼ãƒ ã‚’ä½œã‚‹</button>
            </div>

            {result && (
              <div className="grid gap-3">
                <div className="flex flex-col gap-2 rounded-2xl border border-slate-200 bg-white px-4 py-4 shadow-sm">
                  <div className="text-lg font-semibold tracking-tight">{result}</div>
                  <div className="flex gap-3 mt-2">
                    <a
                      href={`https://twitter.com/intent/tweet?text=ç§ã®ãŠã‚‚ã—ã‚ãƒãƒ¼ãƒ ã¯ã€Œ${encodeURIComponent(result)}ã€ã§ã™ï¼ã¿ã‚“ãªã®ãŠã‚‚ã—ã‚ãƒãƒ¼ãƒ ã‚‚æ•™ãˆã¦ã­âœŒï¸https://codename-wtjb.vercel.app/`}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="rounded-xl border border-slate-200 bg-black text-white px-3 py-2 hover:opacity-90"
                    >Xã§ã‚·ã‚§ã‚¢</a>
                    <a
                      href={`https://line.me/R/msg/text/?ç§ã®ãŠã‚‚ã—ã‚ãƒãƒ¼ãƒ ã¯ã€Œ${encodeURIComponent(result)}ã€ã§ã™ï¼ã¿ã‚“ãªã®ãŠã‚‚ã—ã‚ãƒãƒ¼ãƒ ã‚‚æ•™ãˆã¦ã­âœŒï¸https://codename-wtjb.vercel.app/`}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="rounded-xl border border-slate-200 bg-green-500 text-white px-3 py-2 hover:opacity-90"
                    >LINEã§ã‚·ã‚§ã‚¢</a>
                  </div>
                </div>
              </div>
            )}

            <div className="mt-8 text-xs text-slate-500 text-center">deterministic by name â€¢ client-only â€¢ no tracking â€¢ made with é¯–ã®å‘³å™Œç…®</div>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
